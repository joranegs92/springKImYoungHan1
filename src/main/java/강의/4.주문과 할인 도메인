비즈니스 요구사항
- 주문과 할인정책
    - 회원은 상품을 주문할 수 있다.
    - 회원등급에 따라 할인정책을 적용할 수 있다.
    - 할인정책은 모든 vip는 1000원 할인, (변경가능)
    - 할인정책은 변경가능성이 높다 .회사의 기본할인정책을 아직 정하지 못함.
-----------------------------------------------------------------------------------------------------------------------------------------------------

1. 주문도메인 협력 역할 책임

              1.주문생성
                회원 아이디,
                상품명,가격                ------>회원저장소 역할
                                         |2.회원조회
    클라이언트  ------>   주문 서비스 역할 - |
              < - - -                    |3. 할인적용
              4. 주문결과 반환              -------> 할인정책 역할


     1. 주문생성 : 클라이언트는 주문서비스에 주문생성을 요청한다
     2. 회원조회: 할인을 위해서는 회원등급이 필요하다. 그래서 주문서비스는 회원저장소에서 회원을 조회한다.
     3. 할인적용: 주문서비스는 회원등급에 따라 할인여부를 할인정책에 위임한다
     4. 주문결과 반환: 주문서비스는 할인 결과를 포함한 주문결과를 반환한다.


2. 주문 도메인 전체



                                                                                  ------------DB회원저장소
                                                                                 |
              1.주문생성                            ------>회원저장소 역할 < -------
               회원 아이디,                         |
               상품명,가격               --------   |2.회원조회                     |
    클라이언트  ------>   주문 서비스 역할 -           |                              ----------메모리 회원저장소
              < - - -           △      --------   |3. 할인적용                  |------------정률할인정책
              4. 주문결과 반환     |                 -------> 할인정책 역할 <-------
                                |                                              |----------정액할인정책
                                주문서비스 구현체

3. 클래스 다이어그램

    <interface>                                     <interface>
    OrderService        - - - - - - - - >          MemberRepository
          ^             |                                ^
          |             |                                |
          |             |               ----------------    ---------------
    OrderServiceImpl-----           MemoryMemberRepository   DbMemberRepository
                        |
                        |
                        |
                        - - - - - - - - >           <interface>
                                                   DiscountPolicy
                                                         ^
                                                         |
                                        ----------------    ---------------
                                        FixDiscountPolicy   RateDiscountPolicy

4. 주문 도메인 객체 다이어그램
        클라이언트 ------> 주문서비스 구현체 ----->메모리 회원저장소
                                        -----> 정액 할인정책

        회원을 메모리에서 조회하고 정액할인 정책을 지원해도 주문서비스를 변경하지 않아도 된다.

        객체지향적으로 클래스를 짠것이 바로 이것이다.
        정책이 바뀌어도 구현체는 바뀌지 않는다.
